webpackJsonp([1],{0:function(n,t,l){n.exports=l("cDNt")},cDNt:function(n,t,l){"use strict";function e(n){return i._16(0,[(n()(),i._15(-1,null,["\n"])),(n()(),i._3(1,0,null,null,13,"html",[],null,null,null,null,null)),(n()(),i._15(-1,null,["\n  "])),(n()(),i._3(3,0,null,null,2,"head",[],null,null,null,null,null)),(n()(),i._15(-1,null,["\n    "])),(n()(),i._15(-1,null,["\n  "])),(n()(),i._15(-1,null,["\n    "])),(n()(),i._3(7,0,null,null,6,"body",[],null,null,null,null,null)),(n()(),i._15(-1,null,["\n        "])),(n()(),i._3(9,0,null,null,1,"h1",[["align","center"]],null,null,null,null,null)),(n()(),i._15(-1,null,["Whats Flying !!"])),(n()(),i._15(-1,null,[" \n      "])),(n()(),i._3(12,0,null,null,0,"div",[["id","googleMap"]],null,null,null,null,null)),(n()(),i._15(-1,null,["\n  "])),(n()(),i._15(-1,null,["\n"])),(n()(),i._15(-1,null,["\n\n"]))],null,null)}function r(n){return i._16(0,[(n()(),i._3(0,0,null,null,1,"app-root",[],null,null,null,e,f)),i._1(1,114688,null,0,h,[a],null,null)],function(n,t){n(t,1,0)},null)}Object.defineProperty(t,"__esModule",{value:!0});var i=l("/oeL"),o={production:!0},u=function(){function n(){}return n}(),s=(l("GQSG"),l("CPp0")),a=function(){function n(n){this._http=n}return n.prototype.getFlights=function(){return this._http.get("https://opensky-network.org/api/states/all").map(function(n){return n.json()})},n.ctorParameters=function(){return[{type:s.d}]},n}(),c=function(){function n(){}return n}(),h=function(){function n(n){this.flightService=n,this.flightList=new Array,this.markersArray=new Array}return n.prototype.loadFlightsDetails=function(n,t){this.flightList=[],this.flights=n.states;for(var l=0,e=this.flights;l<e.length;l++){var r=e[l],i=new c;i.id=r[0],i.origin_country=r[2],i.longitude=r[5],i.latitude=r[6],i.altitude=r[7],i.on_ground=r[8],i.velocity=r[9],i.heading=r[10],i.vertical_rate=r[11],i.baro_altitude=r[13],this.flightList.push(i)}this.updateMapWithFlightList(this.flightList,t),console.log(this.flightList)},n.prototype.flightDetailsError=function(n){console.log("flight update service faileed"+n)},n.prototype.stopRefreshing=function(){},n.prototype.updateMapWithFlightList=function(n,t){console.log("updating map with"+n.length+"flights");for(var l=0,e=n;l<e.length;l++){var r=e[l],i={lat:r.latitude,lng:r.longitude},o=new google.maps.Marker({position:i,icon:"/assets/icon18.png",map:t,title:"Hello World!"});this.markersArray.push(o)}},n.prototype.clearMarkers=function(){console.log("clearing "+this.markersArray.length+"markers from map");for(var n=0;n<this.markersArray.length;n++)this.markersArray[n].setMap(null);this.markersArray.length=0},n.prototype.updateFlights=function(n,t){var l=this;this.clearMarkers(),n.getFlights().subscribe(function(n){return l.loadFlightsDetails(n,t)},function(n){return l.flightDetailsError(n)},function(){return l.stopRefreshing()})},n.prototype.setCurrentLocation=function(n,t){var l={lat:t.coords.latitude,lng:t.coords.longitude};n.setCenter(l)},n.prototype.ngOnInit=function(){var n=this,t={lat:0,lng:0},l={center:t,zoom:6,fullscreenControl:!0},e=new google.maps.Map(document.getElementById("googleMap"),l);window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(this.setCurrentLocation.bind(null,e)),this.flightService.getFlights().subscribe(function(t){return n.loadFlightsDetails(t,e)},function(t){return n.flightDetailsError(t)},function(){return n.stopRefreshing()}),setInterval(this.updateFlights.bind(this,this.flightService,e),2e3)},n.ctorParameters=function(){return[{type:a}]},n}(),g=[""],_=["#googleMap[_ngcontent-%COMP%] {\n        height: 850px;\n        width: 100%;\n       }",g],f=i._0({encapsulation:0,styles:_,data:{}}),p=i.Y("app-root",h,r,{},{},[]),d=l("qbdv"),y=l("fc+i"),b=i.Z(u,[h],function(n){return i._12([i._13(512,i.i,i.W,[[8,[p]],[3,i.i],i.x]),i._13(4608,s.c,s.c,[]),i._13(4608,s.g,s.b,[]),i._13(5120,s.i,s.j,[]),i._13(4608,s.h,s.h,[s.c,s.g,s.i]),i._13(4608,s.f,s.a,[]),i._13(5120,s.d,s.k,[s.h,s.f]),i._13(5120,i.v,i._11,[[3,i.v]]),i._13(4608,d.d,d.c,[i.v]),i._13(4608,i.h,i.h,[]),i._13(5120,i.a,i._4,[]),i._13(5120,i.t,i._9,[]),i._13(5120,i.u,i._10,[]),i._13(4608,y.b,y.s,[d.b]),i._13(6144,i.H,null,[y.b]),i._13(4608,y.e,y.f,[]),i._13(5120,y.c,function(n,t,l,e){return[new y.k(n),new y.o(t),new y.n(l,e)]},[d.b,d.b,d.b,y.e]),i._13(4608,y.d,y.d,[y.c,i.z]),i._13(135680,y.m,y.m,[d.b]),i._13(4608,y.l,y.l,[y.d,y.m]),i._13(6144,i.F,null,[y.l]),i._13(6144,y.p,null,[y.m]),i._13(4608,i.L,i.L,[i.z]),i._13(4608,y.g,y.g,[d.b]),i._13(4608,y.i,y.i,[d.b]),i._13(4608,a,a,[s.d]),i._13(512,s.e,s.e,[]),i._13(512,d.a,d.a,[]),i._13(1024,i.l,y.q,[]),i._13(1024,i.b,function(n,t){return[y.r(n,t)]},[[2,y.h],[2,i.y]]),i._13(512,i.c,i.c,[[2,i.b]]),i._13(131584,i._2,i._2,[i.z,i.X,i.r,i.l,i.i,i.c]),i._13(2048,i.e,null,[i._2]),i._13(512,i.d,i.d,[i.e]),i._13(512,y.a,y.a,[[3,y.a]]),i._13(512,u,u,[])])});o.production&&Object(i.R)(),Object(y.j)().bootstrapModuleFactory(b).catch(function(n){return console.log(n)})},gFIY:function(n,t){function l(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"}},[0]);